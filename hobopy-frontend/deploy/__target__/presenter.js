'use strict';import{AssertionError,AttributeError,BaseException,DeprecationWarning,Exception,IndexError,IterableError,KeyError,NotImplementedError,RuntimeWarning,StopIteration,UserWarning,ValueError,Warning,__JsIterator__,__PyIterator__,__Terminal__,__add__,__and__,__call__,__class__,__envir__,__eq__,__floordiv__,__ge__,__get__,__getcm__,__getitem__,__getslice__,__getsm__,__gt__,__i__,__iadd__,__iand__,__idiv__,__ijsmod__,__ilshift__,__imatmul__,__imod__,__imul__,__in__,__init__,__ior__,__ipow__,
__irshift__,__isub__,__ixor__,__jsUsePyNext__,__jsmod__,__k__,__kwargtrans__,__le__,__lshift__,__lt__,__matmul__,__mergefields__,__mergekwargtrans__,__mod__,__mul__,__ne__,__neg__,__nest__,__or__,__pow__,__pragma__,__proxy__,__pyUseJsNext__,__rshift__,__setitem__,__setproperty__,__setslice__,__sort__,__specialattrib__,__sub__,__super__,__t__,__terminal__,__truediv__,__withblock__,__xor__,abs,all,any,assert,bool,bytearray,bytes,callable,chr,copy,deepcopy,delattr,dict,dir,divmod,enumerate,filter,float,
getattr,hasattr,input,int,isinstance,issubclass,len,list,map,max,min,object,ord,pow,print,property,py_TypeError,py_iter,py_metatype,py_next,py_reversed,py_typeof,range,repr,round,set,setattr,sorted,str,sum,tuple,zip}from"./org.transcrypt.__runtime__.js";import{View}from"./view.js";import{Model}from"./model.js";var __name__="presenter";export var Presenter=__class__("Presenter",[object],{__module__:__name__,get __init__(){return __get__(this,function(self){self._model=Model();self._view=View();self._bind()})},
get _bind(){return __get__(this,function(self){$("body").on("todos-updated",self._on_todos_updated);$("#input-form").on("show.bs.modal",self._on_show_modal);$("#register-button").on("click",self._on_click_register);$("#todo-list").on("click",".toggle-checkbox",self._on_click_checkbox);$("#todo-list").on("click",".delete-button",self._on_click_delete)})},get start(){return __get__(this,function(self){self._model.load_all_todos()})},get _on_todos_updated(){return __get__(this,function(self,event){self._view.render_todo_list(self._model.get_all_todos())})},
get _on_show_modal(){return __get__(this,function(self,event){var target_id=$(event.relatedTarget).attr("id");if(target_id=="new-todo")self._view.show_new_modal();else if(target_id.startswith("update-")){var todo_id=target_id.__getslice__(7,null,1);var todo=self._model.get_todo(todo_id);self._view.show_update_modal(todo)}})},get _on_click_register(){return __get__(this,function(self,event){var input_data=self._view.get_input_data();if(input_data["id"])self._model.update_todo(input_data["id"],input_data);
else self._model.create_todo(input_data);self._view.close_modal()})},get _on_click_checkbox(){return __get__(this,function(self,event){var target_id=$(event.target).attr("id");if(target_id.startswith("check-")){var todo_id=target_id.__getslice__(6,null,1);self._model.toggle_todo(todo_id)}})},get _on_click_delete(){return __get__(this,function(self,event){var target_id=$(event.target).attr("id");if(target_id.startswith("delete-")){var todo_id=target_id.__getslice__(7,null,1);self._model.delete_todo(todo_id)}})}});

//# sourceMappingURL=presenter.map